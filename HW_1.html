<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>React. Lesson 1</title>
</head>
<body>

<script>

/* 1. Написать функцию loop, которая будет принимать параметры: times (значение по
умолчанию = 0), callback (значение по умолчанию = null) и будет в цикле (times раз),
вызывать функцию callback. Если функцию не передана, то цикл не должен
отрабатывать ни разу. Покажите применение этой функции */
function loop (times = 0, callback = null) {
    if (typeof callback != 'function') {
    console.log('callback argument must be type of {function}!');
    return false;
    }
    for(let i = 0; i < Math.floor(times); i++){
      callback();
    }
    return true;
};

function repeat () {
  console.log('Функция поторюшка.');
};

loop(5, repeat);
loop(5);

/* Написать функцию calculateArea, которая будет принимать параметры, для
вычисления площади (можете выбрать какую то конкретную фигуру, а можете,
основываясь на переданных параметрах, выполнять требуемый алгоритм
вычисления площади для переданной в параметрах фигуры) и возвращать объект
вида: { area, figure, input }, где area - вычисленная площадь, figure - название фигуры,
для которой вычислялась площадь, input - входные параметры, по которым было
произведено вычисление. */

function calculateArea (figure, width, height) {
  let area;

  switch (figure) {
    case 'square': 
      area = width * width;
      break;
    case 'rectangle': 
      area = width * height;
      break;
  }
  var res = new Object;
  res.fig = figure;
  res.width = width;
  res.height = height;

  return res;
}

console.log(calculateArea('square', 6, 0));
console.log(calculateArea('rectangle', 6, 2));

/* 3. Необходимо написать иерархию классов вида:
Human -> Employee -> Developer
Human -> Employee -> Manager
Каждый Менеджер (Manager) должен иметь внутренний массив своих сотрудников (разработчиков),
 а также методы по удалению/добавлению разработчиков.
Каждый Разработчик (Developer) должны иметь ссылку на Менеджера и методы для изменения менеджера 
(имеется ввиду возможность назначить другого менеджера).
У класса Human должны быть следующие параметры: name (строка), age (число), dateOfBirth (строка или дата)
У класса Employee должны присутствовать параметры: salary (число), department (строка)
В классе Human должен присутствовать метод displayInfo, который возвращает строку со всеми параметрами 
экземпляра Human.
В классе Employee должен быть реализовать такой же метод (displayInfo), который вызывает базовый метод и 
дополняет его параметрами из экземпляра Employee
Чтобы вызвать метод базового класса, необходимо внутри вызова метода displayInfo класса 
Employee написать: super.displayInfo(), это вызовет метод disaplyInfo класс Human и вернет строку 
с параметрами Human'a. */

  class Human {

    constructor(name, age, dateOfBirth) {
      this.name = name;
      this.age = age;
      this.dateOfBirth = dateOfBirth;
    }

    displayInfo() {
      return `Имя: ${this.name}. Возраст: ${this.age}. Дата рождения: ${this.dateOfBirth}`
    }

  }


  class Employee extends Human {

    constructor(name, age, dateOfBirth, salary, department) {
      super(name, age, dateOfBirth);
      this.salary = salary;
      this.department = department;

    }

    displayInfo() {
      let infoString = super.displayInfo();
      return `${infoString}. Зарплата: ${this.salary}. Отдел: ${this.department}.`;

    }
  }


  class Developer extends Employee {
    
    constructor(name, age, dateOfBirth, salary, department){

      super(name, age, dateOfBirth, salary, department);
      this.manager = undefined;

    }

    changeManager(manager){

      this.manager.del_dev(this);
      this.manager = manager;
      manager.add_dev(this);

    }
  }


  class Manager extends Employee {

    constructor(name, age, dateOfBirth, salary, department){
      super(name, age, dateOfBirth, salary, department);
      this.devs = [];

    }

    add_dev(dev){
      this.devs.push(dev);
      dev.manager = this;

    }

    del_dev(dev){
      this.devs.splice(this.devs.indexOf(dev),1);
      dev.manager = undefined;

    }
  }


  let vasya = new Developer('Вася', 27, '15.07.1991', 50000, 'Разработка и аналитика');
  let petya = new Developer('Петя', 25, '16.01.1993', 45000, 'Разработка и аналитика');

  let manager1 = new Manager('Василий Петрович', 39, '2.03.1980', 50000, 'Разработка и аналитика');
  let manager2 = new Manager('Морг Зажопинск', 49, '2.03.1970', 90000, 'Разработка и аналитика');

  vasya.changeManager(manager1);


</script>
</body>
</html>